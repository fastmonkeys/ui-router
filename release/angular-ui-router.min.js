/**
 * State-based routing for AngularJS
 * @version v1.0.0alpha1-dev-2016-03-01
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports["ui.router"]=b():a["ui.router"]=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(2)),d(c(53)),d(c(54)),d(c(55)),d(c(56)),d(c(57)),Object.defineProperty(b,"__esModule",{value:!0}),b["default"]="ui.router"},function(a,b,c){var d=c(3);b.common=d;var e=c(19);b.params=e;var f=c(37);b.path=f;var g=c(39);b.resolve=g;var h=c(15);b.state=h;var i=c(12);b.transition=i;var j=c(45);b.url=j;var k=c(49);b.view=k;var l=c(51);b.UIRouter=l.UIRouter},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(4)),d(c(6)),d(c(5)),d(c(7)),d(c(8)),d(c(9))},function(a,b,c){function d(a,b,c,d){return void 0===d&&(d=Object.keys(a)),d.filter(function(b){return"function"==typeof a[b]}).forEach(function(d){return b[d]=a[d].bind(c)})}function e(a){void 0===a&&(a={});for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e=f.apply(null,[{}].concat(c));return b.extend({},e,j(a||{},Object.keys(e)))}function f(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return b.forEach(c,function(c){b.forEach(c,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function g(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function h(a,b,c){void 0===c&&(c=Object.keys(a));for(var d=0;d<c.length;d++){var e=c[d];if(a[e]!=b[e])return!1}return!0}function i(a,b){var c={},d=I(arguments,2);for(var e in b)a(d,e)&&(c[e]=b[e]);return c}function j(a){return i.apply(null,[J].concat(I(arguments)))}function k(a){return i.apply(null,[G.not(J)].concat(I(arguments)))}function l(a,b){return o(a,G.prop(b))}function m(a,c){var d=F.isArray(a),e=d?[]:{},f=d?function(a){return e.push(a)}:function(a,b){return e[b]=a};return b.forEach(a,function(a,b){c(a,b)&&f(a,b)}),e}function n(a,c){var d;return b.forEach(a,function(a,b){d||c(a,b)&&(d=a)}),d}function o(a,c){var d=F.isArray(a)?[]:{};return b.forEach(a,function(a,b){return d[b]=c(a,b)}),d}function p(a,b){return a.push(b),a}function q(a,b){return void 0===b&&(b="assert failure"),function(c){if(!a(c))throw new Error(F.isFunction(b)?b(c):b);return!0}}function r(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(0===a.length)return[];var c=a.reduce(function(a,b){return Math.min(b.length,a)},9007199254740991);return Array.apply(null,Array(c)).map(function(b,c){return a.map(function(a){return a[c]})})}function s(a,b){var c,d;if(F.isArray(b)&&(c=b[0],d=b[1]),!F.isString(c))throw new Error("invalid parameters to applyPairs");return a[c]=d,a}function t(a){var b=F.isArray(a)?a.slice(-1)[0]:a;return b&&b.toString()||"undefined"}function u(a,b){return b.length<=a?b:b.substr(0,a-3)+"..."}function v(a,b){for(;b.length<a;)b+=" ";return b}function w(a){return a.length&&a[a.length-1]||void 0}function x(a){return JSON.stringify(a)}function y(a){return F.isString(a)?JSON.parse(a):a}function z(a,c){return c&&Object.keys(c).forEach(function(a){return delete c[a]}),c||(c={}),b.extend(c,a)}function A(a,b,c){return F.isArray(a)?a.forEach(b,c):void Object.keys(a).forEach(function(c){return b(a[c],c)})}function B(a,b){return Object.keys(b).forEach(function(c){return a[c]=b[c]}),a}function C(a,c){return I(arguments,1).filter(b.identity).reduce(B,a)}function D(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c=typeof a,d=typeof b;if(c!==d||"object"!==c)return!1;var e=[a,b];if(G.all(F.isArray)(e))return E(a,b);if(G.all(F.isDate)(e))return a.getTime()===b.getTime();if(G.all(F.isRegExp)(e))return a.toString()===b.toString();if(G.all(F.isFunction)(e))return!0;var f=[F.isFunction,F.isArray,F.isDate,F.isRegExp];if(f.map(G.any).reduce(function(a,b){return a||!!b(e)},!1))return!1;var g,h={};for(g in a){if(!D(a[g],b[g]))return!1;h[g]=!0}for(g in b)if(!h[g])return!1;return!0}function E(a,b){return a.length!==b.length?!1:r(a,b).reduce(function(a,b){return a&&D(b[0],b[1])},!0)}var F=c(5),G=c(6),H=window.angular||{};b.fromJson=H.fromJson||y,b.toJson=H.toJson||x,b.copy=H.copy||z,b.forEach=H.forEach||A,b.extend=H.extend||C,b.equals=H.equals||D,b.identity=function(a){return a},b.noop=function(){return void 0},b.abstractKey="abstract",b.bindFunctions=d,b.inherit=function(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)};var I=function(a,b){return void 0===b&&(b=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(a,b))},J=function(a,b){return-1!==a.indexOf(b)};b.removeFrom=G.curry(function(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),a}),b.defaults=e,b.merge=f,b.mergeR=function(a,c){return b.extend(a,c)},b.ancestors=g,b.equalForKeys=h,b.pick=j,b.omit=k,b.pluck=l,b.filter=m,b.find=n,b.map=o,b.values=function(a){return Object.keys(a).map(function(b){return a[b]})},b.allTrueR=function(a,b){return a&&b},b.anyTrueR=function(a,b){return a||b},b.unnestR=function(a,b){return a.concat(b)},b.flattenR=function(a,c){return F.isArray(c)?a.concat(c.reduce(b.flattenR,[])):p(a,c)},b.unnest=function(a){return a.reduce(b.unnestR,[])},b.flatten=function(a){return a.reduce(b.flattenR,[])},b.assertPredicate=q,b.pairs=function(a){return Object.keys(a).map(function(b){return[b,a[b]]})},b.arrayTuples=r,b.applyPairs=s,b.fnToString=t,b.maxLength=u,b.padString=v,b.tail=w},function(a,b,c){function d(a){if(b.isArray(a)&&a.length){var c=a.slice(0,-1),d=a.slice(-1);return!(c.filter(e.not(b.isString)).length||d.filter(e.not(b.isFunction)).length)}return b.isFunction(a)}var e=c(6),f=Object.prototype.toString,g=function(a){return function(b){return typeof b===a}};b.isUndefined=g("undefined"),b.isDefined=e.not(b.isUndefined),b.isNull=function(a){return null===a},b.isFunction=g("function"),b.isNumber=g("number"),b.isString=g("string"),b.isObject=function(a){return null!==a&&"object"==typeof a},b.isArray=Array.isArray,b.isDate=function(a){return"[object Date]"===f.call(a)},b.isRegExp=function(a){return"[object RegExp]"===f.call(a)},b.isInjectable=d,b.isPromise=e.and(b.isObject,e.pipe(e.prop("then"),b.isFunction))},function(a,b){function c(a){function b(c){return c.length>=d?a.apply(null,c):function(){return b(c.concat([].slice.apply(arguments)))}}var c=[].slice.apply(arguments,[1]),d=a.length;return b(c)}function d(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}}function e(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return d.apply(null,[].slice.call(arguments).reverse())}function f(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];return a.apply(null,c)&&b.apply(null,c)}}function g(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];return a.apply(null,c)||b.apply(null,c)}}function h(a,b){return function(c){return c[a].apply(c,b)}}function i(a){return function(b){for(var c=0;c<a.length;c++)if(a[c][0](b))return a[c][1](b)}}b.curry=c,b.compose=d,b.pipe=e,b.prop=function(a){return function(b){return b&&b[a]}},b.propEq=c(function(a,b,c){return c&&c[a]===b}),b.parse=function(a){return e.apply(null,a.split(".").map(b.prop))},b.not=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return!a.apply(null,b)}},b.and=f,b.or=g,b.all=function(a){return function(b){return b.reduce(function(b,c){return b&&!!a(c)},!0)}},b.any=function(a){return function(b){return b.reduce(function(b,c){return b||!!a(c)},!1)}},b.none=b.not(b.any),b.is=function(a){return function(b){return null!=b&&b.constructor===a||b instanceof a}},b.eq=function(a){return function(b){return a===b}},b.val=function(a){return function(){return a}},b.invoke=h,b.pattern=i},function(a,b){var c=function(a){return function(){throw new Error(a+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},d={$q:void 0,$injector:void 0,location:{},locationConfig:{},template:{}};b.services=d,["replace","url","path","search","hash","onChange"].forEach(function(a){return d.location[a]=c(a)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(a){return d.locationConfig[a]=c(a)})},function(a,b){var c=function(){function a(a){void 0===a&&(a=[]),this._items=a}return a.prototype.enqueue=function(a){return this._items.push(a),a},a.prototype.dequeue=function(){return this.size()?this._items.splice(0,1)[0]:void 0},a.prototype.clear=function(){var a=this._items;return this._items=[],a},a.prototype.size=function(){return this._items.length},a.prototype.remove=function(a){var b=this._items.indexOf(a);return b>-1&&this._items.splice(b,1)[0]},a.prototype.peekTail=function(){return this._items[this._items.length-1]},a.prototype.peekHead=function(){return this.size()?this._items[0]:void 0},a}();b.Queue=c},function(a,b,c){function d(a){return i.is(m.TransitionRejection)(a.reason)?a.reason.toString():"Promise("+JSON.stringify(a)+")"}function e(a){var b=h.fnToString(a),c=b.match(/^(function [^ ]+\([^)]*\))/);return c?c[1]:b}function f(a){return j.isNumber(a)?p[a]:p[p[a]]}function g(a){var b=i.pattern([[i.not(j.isDefined),i.val("undefined")],[j.isNull,i.val("null")],[j.isPromise,d],[i.is(l.Transition),i.invoke("toString")],[i.is(k.Resolvable),i.invoke("toString")],[j.isInjectable,e],[i.val(!0),h.identity]]);return JSON.stringify(a,function(a,c){return b(c)}).replace(/\\"/g,'"')}var h=c(4),i=c(6),j=c(5),k=c(10),l=c(11),m=c(26),n=function(a){return"ui-view id#"+a.id+", contextual name '"+a.name+"@"+a.creationContext+"', fqn: '"+a.fqn+"'"},o=function(a){return"ViewConfig targeting ui-view: '"+a.uiViewName+"@"+a.uiViewContextAnchor+"', context: '"+a.context.name+"'"};!function(a){a[a.RESOLVE=0]="RESOLVE",a[a.TRANSITION=1]="TRANSITION",a[a.HOOK=2]="HOOK",a[a.INVOKE=3]="INVOKE",a[a.UIVIEW=4]="UIVIEW",a[a.VIEWCONFIG=5]="VIEWCONFIG"}(b.Category||(b.Category={}));var p=b.Category,q=function(){function a(){var a=this;this._enabled={},this.enable=function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return a._set(!0,b)},this.disable=function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return a._set(!1,b)},this.approximateDigests=0}return a.prototype._set=function(a,b){var c=this;b.length||(b=Object.keys(p).filter(function(a){return isNaN(parseInt(a,10))}).map(function(a){return p[a]})),b.map(f).forEach(function(b){return c._enabled[b]=a})},a.prototype.enabled=function(a){return!!this._enabled[f(a)]},a.prototype.traceTransitionStart=function(a){if(this.enabled(p.TRANSITION)){var b=a.$id,c=this.approximateDigests,d=g(a);console.log("Transition #"+b+" Digest #"+c+": Started  -> "+d)}},a.prototype.traceTransitionIgnored=function(a){if(this.enabled(p.TRANSITION)){var b=a.$id,c=this.approximateDigests,d=g(a);console.log("Transition #"+b+" Digest #"+c+": Ignored  <> "+d)}},a.prototype.traceHookInvocation=function(a,b){if(this.enabled(p.HOOK)){var c=i.parse("transition.$id")(b),d=this.approximateDigests,f=i.parse("traceData.hookType")(b)||"internal",g=i.parse("traceData.context.state.name")(b)||i.parse("traceData.context")(b)||"unknown",j=e(a.fn);console.log("Transition #"+c+" Digest #"+d+":   Hook -> "+f+" context: "+g+", "+h.maxLength(200,j))}},a.prototype.traceHookResult=function(a,b,c){if(this.enabled(p.HOOK)){var d=i.parse("transition.$id")(c),e=this.approximateDigests,f=g(a),j=g(b);console.log("Transition #"+d+" Digest #"+e+":   <- Hook returned: "+h.maxLength(200,f)+", transition result: "+h.maxLength(200,j))}},a.prototype.traceResolvePath=function(a,b){if(this.enabled(p.RESOLVE)){var c=i.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString(),f=b&&b.resolvePolicy;console.log("Transition #"+c+" Digest #"+d+":         Resolving "+e+" ("+f+")")}},a.prototype.traceResolvePathElement=function(a,b,c){if(this.enabled(p.RESOLVE)&&b.length){var d=i.parse("transition.$id")(c),e=this.approximateDigests,f=Object.keys(b).join(", "),g=a&&a.toString(),h=c&&c.resolvePolicy;console.log("Transition #"+d+" Digest #"+e+":         Resolve "+g+" resolvables: ["+f+"] ("+h+")")}},a.prototype.traceResolveResolvable=function(a,b){if(this.enabled(p.RESOLVE)){var c=i.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString();console.log("Transition #"+c+" Digest #"+d+":               Resolving -> "+e)}},a.prototype.traceResolvableResolved=function(a,b){if(this.enabled(p.RESOLVE)){var c=i.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString(),f=g(a.data);console.log("Transition #"+c+" Digest #"+d+":               <- Resolved  "+e+" to: "+h.maxLength(200,f))}},a.prototype.tracePathElementInvoke=function(a,b,c,d){if(this.enabled(p.INVOKE)){var f=i.parse("transition.$id")(d),g=this.approximateDigests,j=a&&a.state&&a.state.toString(),k=e(b);console.log("Transition #"+f+" Digest #"+g+":         Invoke "+d.when+": context: "+j+" "+h.maxLength(200,k))}},a.prototype.traceError=function(a,b){if(this.enabled(p.TRANSITION)){var c=b.$id,d=this.approximateDigests,e=g(b);console.log("Transition #"+c+" Digest #"+d+": <- Rejected "+e+", reason: "+a)}},a.prototype.traceSuccess=function(a,b){if(this.enabled(p.TRANSITION)){var c=b.$id,d=this.approximateDigests,e=a.name,f=g(b);console.log("Transition #"+c+" Digest #"+d+": <- Success  "+f+", final state: "+e)}},a.prototype.traceUiViewEvent=function(a,b,c){void 0===c&&(c=""),this.enabled(p.UIVIEW)&&console.log("ui-view: "+h.padString(30,a)+" "+n(b)+c)},a.prototype.traceUiViewConfigUpdated=function(a,b){this.enabled(p.UIVIEW)&&this.traceUiViewEvent("Updating",a," with ViewConfig from context='"+b+"'")},a.prototype.traceUiViewScopeCreated=function(a,b){this.enabled(p.UIVIEW)&&this.traceUiViewEvent("Created scope for",a,", scope #"+b.$id)},a.prototype.traceUiViewFill=function(a,b){this.enabled(p.UIVIEW)&&this.traceUiViewEvent("Fill",a," with: "+h.maxLength(200,b))},a.prototype.traceViewServiceEvent=function(a,b){this.enabled(p.VIEWCONFIG)&&console.log("$view.ViewConfig: "+a+" "+o(b))},a.prototype.traceViewServiceUiViewEvent=function(a,b){this.enabled(p.VIEWCONFIG)&&console.log("$view.ViewConfig: "+a+" "+n(b))},a}();b.Trace=q;var r=new q;b.trace=r},function(a,b,c){var d=c(4),e=c(6),f=c(5),g=c(7),h=c(9),i=function(){function a(a,b,c){this.promise=void 0,d.extend(this,{name:a,resolveFn:b,deps:g.services.$injector.annotate(b),data:c})}return a.prototype.resolveResolvable=function(a,b){var c=this;void 0===b&&(b={});var e=this,f=e.name,i=e.deps,j=e.resolveFn;h.trace.traceResolveResolvable(this,b);var k=g.services.$q.defer();this.promise=k.promise;var l=a.getResolvables(null,{omitOwnLocals:[f]}),m=d.pick(l,i),n=d.map(m,function(c){return c.get(a,b)});return g.services.$q.all(n).then(function(a){try{var b=g.services.$injector.invoke(j,null,a);k.resolve(b)}catch(d){k.reject(d)}return c.promise}).then(function(a){return c.data=a,h.trace.traceResolvableResolved(c,b),c.promise})},a.prototype.get=function(a,b){return this.promise||this.resolveResolvable(a,b)},a.prototype.toString=function(){return"Resolvable(name: "+this.name+", requires: ["+this.deps+"])"},a.makeResolvables=function(b){var c=d.filter(b,e.not(f.isInjectable)),g=Object.keys(c);if(g.length)throw new Error("Invalid resolve key/value: "+g[0]+"/"+c[g[0]]);return d.map(b,function(b,c){return new a(c,b)})},a}();b.Resolvable=i},function(a,b,c){var d=c(9),e=c(7),f=c(4),g=c(5),h=c(6),i=c(12),j=c(38),k=c(36),l=c(15),m=c(19),n=c(39),o=0,p=new i.RejectFactory,q=h.prop("self"),r=function(){function a(a,b,c){var d=this;if(this.$transitions=c,this._deferred=e.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return d._treeChanges},this.isActive=function(){return d===d._options.current()},!b.valid())throw new Error(b.error());i.HookRegistry.mixin(new i.HookRegistry,this),this._options=f.extend({current:h.val(this)},b.options()),this.$id=o++;var g=k.PathFactory.buildToPath(a,b);this._treeChanges=k.PathFactory.treeChanges(a,g,this._options.reloadState),k.PathFactory.bindTransitionResolve(this._treeChanges,this)}return a.prototype.$from=function(){return f.tail(this._treeChanges.from).state},a.prototype.$to=function(){return f.tail(this._treeChanges.to).state},a.prototype.from=function(){return this.$from().self},a.prototype.to=function(){return this.$to().self},a.prototype.is=function(b){return b instanceof a?this.is({to:b.$to().name,from:b.$from().name}):!(b.to&&!i.matchState(this.$to(),b.to)||b.from&&!i.matchState(this.$from(),b.from))},a.prototype.params=function(a){return void 0===a&&(a="to"),this._treeChanges[a].map(h.prop("values")).reduce(f.mergeR,{})},a.prototype.resolves=function(){return f.map(f.tail(this._treeChanges.to).resolveContext.getResolvables(),function(a){return a.data})},a.prototype.addResolves=function(a,b){void 0===b&&(b="");var c="string"==typeof b?b:b.name,d=this._treeChanges.to,e=f.find(d,function(a){return a.state.name===c});f.tail(d).resolveContext.addResolvables(n.Resolvable.makeResolvables(a),e.state)},a.prototype.previous=function(){return this._options.previous||null},a.prototype.options=function(){return this._options},a.prototype.entering=function(){return f.map(this._treeChanges.entering,h.prop("state")).map(q)},a.prototype.exiting=function(){return f.map(this._treeChanges.exiting,h.prop("state")).map(q).reverse()},a.prototype.retained=function(){return f.map(this._treeChanges.retained,h.prop("state")).map(q)},a.prototype.views=function(a,b){void 0===a&&(a="entering");var c=this._treeChanges[a];return b?f.find(c,h.propEq("state",b)).views:f.unnest(c.map(h.prop("views")))},a.prototype.redirect=function(b){var c=f.extend({},this.options(),b.options(),{previous:this});b=new l.TargetState(b.identifier(),b.$state(),b.params(),c);var d=new a(this._treeChanges.from,b,this.$transitions),e=this.treeChanges().to,g=j.Node.matching(d.treeChanges().to,e),h=function(a,b){return-1===["$stateParams","$transition$"].indexOf(b)};return g.forEach(function(a,b){return f.extend(a.resolves,f.filter(e[b].resolves,h))}),d},a.prototype.ignored=function(){var a=this._treeChanges,b=a.to,c=a.from;if(this._options.reload||f.tail(b).state!==f.tail(c).state)return!1;var d=b.map(function(a){return a.schema.filter(h.not(h.prop("dynamic")))}),e=[b,c].map(function(a){return a.map(h.prop("values"))}),g=e[0],i=e[1],j=f.arrayTuples(d,g,i);return j.map(function(a){var b=a[0],c=a[1],d=a[2];return m.Param.equals(b,c,d)}).reduce(f.allTrueR,!0)},a.prototype.hookBuilder=function(){return new i.HookBuilder(this.$transitions,this,{transition:this,current:this._options.current})},a.prototype.run=function(){var a=this,b=this.hookBuilder(),c=i.TransitionHook.runSynchronousHooks,f=function(){return c(b.getOnSuccessHooks(),{},!0)},g=function(a){return c(b.getOnErrorHooks(),{$error$:a},!0)};this.promise.then(f,g);var h=c(b.getOnBeforeHooks());if(i.TransitionHook.isRejection(h)){var j=h.reason;return this._deferred.reject(j),this.promise}if(!this.valid()){var k=new Error(this.error());return this._deferred.reject(k),this.promise}if(this.ignored()){d.trace.traceTransitionIgnored(this);var l=p.ignored();return this._deferred.reject(l.reason),this.promise}var m=function(){a._deferred.resolve(a),d.trace.traceSuccess(a.$to(),a)},n=function(b){return a._deferred.reject(b),d.trace.traceError(b,a),e.services.$q.reject(b)};d.trace.traceTransitionStart(this);var o=b.asyncHooks().reduce(function(a,b){return a.then(b.invokeStep)},h);return o.then(m,n),this.promise},a.prototype.valid=function(){return!this.error()},a.prototype.error=function(){var a=this.$to();return a.self[f.abstractKey]?"Cannot transition to abstract state '"+a.name+"'":m.Param.validates(a.parameters(),this.params())?void 0:"Param values not valid for state '"+a.name+"'"},a.prototype.toString=function(){var a=this.from(),b=this.to(),c=function(a){return null!==a["#"]&&void 0!==a["#"]?a:f.omit(a,"#")},d=this.$id,e=g.isObject(a)?a.name:a,i=f.toJson(c(this._treeChanges.from.map(h.prop("values")).reduce(f.mergeR,{}))),j=this.valid()?"":"(X) ",k=g.isObject(b)?b.name:b,l=f.toJson(c(this.params()));return"Transition#"+d+"( '"+e+"'"+i+" -> "+j+"'"+k+"'"+l+" )"},a}();b.Transition=r},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(13)),d(c(14)),d(c(26)),d(c(11)),d(c(44)),d(c(43))},function(a,b,c){function d(a){return void 0===a&&(a=!1),function(b,c){var d=a?-1:1,e=(b.node.state.path.length-c.node.state.path.length)*d;return 0!==e?e:c.hook.priority-b.hook.priority}}var e=c(4),f=c(5),g=c(12),h=function(){function a(a,b,c){var f=this;this.$transitions=a,this.transition=b,this.baseHookOptions=c,this.getOnBeforeHooks=function(){return f._buildNodeHooks("onBefore","to",d(),void 0,{async:!1})},this.getOnStartHooks=function(){return f._buildNodeHooks("onStart","to",d())},this.getOnExitHooks=function(){return f._buildNodeHooks("onExit","exiting",d(!0),function(a){return{$state$:a.state}})},this.getOnRetainHooks=function(){return f._buildNodeHooks("onRetain","retained",d(),function(a){return{$state$:a.state}})},this.getOnEnterHooks=function(){return f._buildNodeHooks("onEnter","entering",d(),function(a){return{$state$:a.state}})},this.getOnFinishHooks=function(){return f._buildNodeHooks("onFinish","to",d(),function(a){return{$treeChanges$:f.treeChanges}})},this.getOnSuccessHooks=function(){return f._buildNodeHooks("onSuccess","to",d(),void 0,{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return f._buildNodeHooks("onError","to",d(),void 0,{async:!1,rejectIfSuperseded:!1})},this.treeChanges=b.treeChanges(),this.toState=e.tail(this.treeChanges.to).state,this.fromState=e.tail(this.treeChanges.from).state,this.transitionOptions=b.options()}return a.prototype.asyncHooks=function(){var a=this.getOnStartHooks(),b=this.getOnExitHooks(),c=this.getOnRetainHooks(),d=this.getOnEnterHooks(),f=this.getOnFinishHooks(),g=[a,b,c,d,f];return g.reduce(e.unnestR,[]).filter(e.identity)},a.prototype._buildNodeHooks=function(a,b,c,d,f){var h=this;void 0===d&&(d=function(a){return{}}),void 0===f&&(f={});var i=this._matchingHooks(a,this.treeChanges);if(!i)return[];var j=function(c){var i=c.matches(h.treeChanges),j=i[b];return j.map(function(b){var i=e.extend({traceData:{hookType:a,context:b}},h.baseHookOptions,f),j=new g.TransitionHook(c.callback,d(b),b.resolveContext,i);return{hook:c,node:b,transitionHook:j}})};return i.map(j).reduce(e.unnestR,[]).sort(c).map(function(a){return a.transitionHook})},a.prototype._matchingHooks=function(a,b){return[this.transition,this.$transitions].map(function(b){return b.getHooks(a)}).filter(e.assertPredicate(f.isArray,"broken event named: "+a)).reduce(e.unnestR,[]).filter(function(a){return a.matches(b)})},a}();b.HookBuilder=h},function(a,b,c){function d(a,b){function c(a){for(var b=d,c=0;c<b.length;c++){var e=h.Glob.fromString(b[c]);if(e&&e.matches(a.name)||!e&&b[c]===a.name)return!0}return!1}var d=g.isString(b)?[b]:b,e=g.isFunction(d)?d:c;return!!e(a)}function e(a,b){return function(c,d,e){void 0===e&&(e={});var g=new i(c,d,e);return a[b].push(g),function(){f.removeFrom(a[b])(g)}}}var f=c(4),g=c(5),h=c(15);b.matchState=d;var i=function(){function a(a,b,c){void 0===c&&(c={}),this.callback=b,this.matchCriteria=f.extend({to:!0,from:!0,exiting:!0,retained:!0,entering:!0},a),this.priority=c.priority||0}return a._matchingNodes=function(a,b){if(b===!0)return a;var c=a.filter(function(a){return d(a.state,b)});return c.length?c:null},a.prototype.matches=function(b){var c=this.matchCriteria,d=a._matchingNodes,e={to:d([f.tail(b.to)],c.to),from:d([f.tail(b.from)],c.from),exiting:d(b.exiting,c.exiting),retained:d(b.retained,c.retained),entering:d(b.entering,c.entering)},g=["to","from","exiting","retained","entering"].map(function(a){return e[a]}).reduce(f.allTrueR,!0);return g?e:null},a}();b.EventHook=i;var j=function(){function a(){var a=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(b){return a._transitionEvents[b]},this.onBefore=e(this._transitionEvents,"onBefore"),this.onStart=e(this._transitionEvents,"onStart"),this.onEnter=e(this._transitionEvents,"onEnter"),this.onRetain=e(this._transitionEvents,"onRetain"),this.onExit=e(this._transitionEvents,"onExit"),this.onFinish=e(this._transitionEvents,"onFinish"),this.onSuccess=e(this._transitionEvents,"onSuccess"),this.onError=e(this._transitionEvents,"onError")}return a.mixin=function(a,b){Object.keys(a._transitionEvents).concat(["getHooks"]).forEach(function(c){return b[c]=a[c]})},a}();b.HookRegistry=j},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(16)),d(c(17)),d(c(18)),d(c(25)),d(c(32)),d(c(33)),d(c(34)),d(c(35)),d(c(27))},function(a,b){var c=function(){function a(a){this.text=a,this.glob=a.split(".")}return a.prototype.matches=function(a){for(var b=a.split("."),c=0,d=this.glob.length;d>c;c++)"*"===this.glob[c]&&(b[c]="*");return"**"===this.glob[0]&&(b=b.slice(b.indexOf(this.glob[1])),b.unshift("**")),"**"===this.glob[this.glob.length-1]&&(b.splice(b.indexOf(this.glob[this.glob.length-2])+1,Number.MAX_VALUE),b.push("**")),this.glob.length!=b.length?!1:b.join("")===this.glob.join("")},a.is=function(a){return a.indexOf("*")>-1},a.fromString=function(b){return this.is(b)?new a(b):null},a}();b.Glob=c},function(a,b,c){var d=c(5),e=c(4),f=function(){function a(b){this.stateRegistry=b,this.invalidCallbacks=[],e.bindFunctions(a.prototype,this,this)}return a.prototype.decorator=function(a,b){return this.stateRegistry.decorator(a,b)||this},a.prototype.state=function(a,b){return d.isObject(a)?b=a:b.name=a,this.stateRegistry.register(b),this},a.prototype.onInvalid=function(a){this.invalidCallbacks.push(a)},a}();b.StateProvider=f},function(a,b,c){var d=c(4),e=c(5),f=c(6),g=c(19),h=function(a){if(!e.isString(a))return!1;var b="^"===a.charAt(0);return{val:b?a.substring(1):a,root:b}},i=function(){function a(a,b){this.matcher=a;var c=this,e=function(a){return""===a.name},i=function(){return a.find("")};this.builders={parent:[function(b){return e(b)?null:a.find(c.parentName(b))||i()}],data:[function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d.inherit(a.parent.data,a.data)),a.data}],url:[function(a){var c=a,e=h(c.url),f=a.parent,g=e?b.compile(e.val,{params:a.params||{},paramMap:function(a,b){return c.reloadOnSearch===!1&&b&&(a=d.extend(a||{},{dynamic:!0})),a}}):c.url;if(!g)return null;if(!b.isMatcher(g))throw new Error("Invalid url '"+g+"' in state '"+a+"'");return e&&e.root?g:(f&&f.navigable||i()).url.append(g)}],navigable:[function(a){return!e(a)&&a.url?a:a.parent?a.parent.navigable:null}],params:[function(a){var b=function(a,b){return g.Param.fromConfig(b,null,a)},c=a.url&&a.url.parameters({inherit:!1})||[],e=d.values(d.map(d.omit(a.params||{},c.map(f.prop("id"))),b));return c.concat(e).map(function(a){return[a.id,a]}).reduce(d.applyPairs,{})}],views:[function(a){var b={},c=["templateProvider","templateUrl","template","notify","async"],e=["controller","controllerProvider","controllerAs"],f=c.concat(e);return d.forEach(a.views||{$default:d.pick(a,f)},function(c,f){f=f||"$default",d.forEach(e,function(b){a[b]&&!c[b]&&(c[b]=a[b])}),Object.keys(c).length>0&&(b[f]=c)}),b}],path:[function(a){return a.parent?a.parent.path.concat(a):[a]}],includes:[function(a){var b=a.parent?d.extend({},a.parent.includes):{};return b[a.name]=!0,b}]}}return a.prototype.builder=function(a,b){var c=this.builders,d=c[a]||[];return e.isString(a)&&!e.isDefined(b)?d.length>1?d:d[0]:e.isString(a)&&e.isFunction(b)?(c[a]=d,c[a].push(b),function(){return c[a].splice(c[a].indexOf(b,1))&&null}):void 0},a.prototype.build=function(a){var b=this,c=b.matcher,e=b.builders,f=this.parentName(a);if(f&&!c.find(f))return null;for(var g in e)if(e.hasOwnProperty(g)){var h=e[g].reduce(function(a,b){return function(c){return b(c,a)}},d.noop);a[g]=h(a)}return a},a.prototype.parentName=function(a){var b=a.name||"";return-1!==b.indexOf(".")?b.substring(0,b.lastIndexOf(".")):a.parent?e.isString(a.parent)?a.parent:a.parent.name:""},a.prototype.name=function(a){var b=a.name;if(-1!==b.indexOf(".")||!a.parent)return b;var c=e.isString(a.parent)?a.parent:a.parent.name;return c?c+"."+b:b},a}();b.StateBuilder=i},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(20)),d(c(23)),d(c(24)),d(c(22))},function(a,b,c){function d(a){return a=p(a)&&{value:a}||a,h.extend(a,{$$fn:j.isInjectable(a.value)?a.value:function(){return a.value}})}function e(a,b,c,d){if(a.type&&b&&"string"!==b.name)throw new Error("Param '"+d+"' has two type configurations.");return a.type&&b&&"string"===b.name&&n.paramTypes.type(a.type)?n.paramTypes.type(a.type):b?b:a.type?a.type instanceof m.Type?a.type:n.paramTypes.type(a.type):c===q.CONFIG?n.paramTypes.type("any"):n.paramTypes.type("string")}function f(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!j.isDefined(c)||null==c)return l.matcherConfig.defaultSquashPolicy();if(c===!0||j.isString(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function g(a,b,c,d){var e,f,g=[{from:"",to:c||b?void 0:""},{from:null,to:c||b?void 0:""}];return e=j.isArray(a.replace)?a.replace:[],j.isString(d)&&e.push({from:d,to:void 0}),f=h.map(e,i.prop("from")),h.filter(g,function(a){return-1===f.indexOf(a.from)}).concat(e)}var h=c(4),i=c(6),j=c(5),k=c(7),l=c(21),m=c(22),n=c(23),o=Object.prototype.hasOwnProperty,p=function(a){return 0===["value","type","squash","array","dynamic"].filter(o.bind(a||{})).length};!function(a){a[a.PATH=0]="PATH",a[a.SEARCH=1]="SEARCH",a[a.CONFIG=2]="CONFIG"}(b.DefType||(b.DefType={}));var q=b.DefType,r=function(){function a(a,b,c,i){function j(){var b={array:i===q.SEARCH?"auto":!1},d=a.match(/\[\]$/)?{array:!0}:{};return h.extend(b,d,c).array}c=d(c),b=e(c,b,i,a);var k=j();b=k?b.$asArray(k,i===q.SEARCH):b;var l=void 0!==c.value,m=c.dynamic===!0,n=f(c,l),o=g(c,k,l,n);h.extend(this,{id:a,type:b,location:i,squash:n,replace:o,isOptional:l,dynamic:m,config:c,array:k})}return a.prototype.isDefaultValue=function(a){return this.isOptional&&this.type.equals(this.value(),a)},a.prototype.value=function(a){var b=this,c=function(){if(!k.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var a=k.services.$injector.invoke(b.config.$$fn);if(null!==a&&void 0!==a&&!b.type.is(a))throw new Error("Default value ("+a+") for parameter '"+b.id+"' is not an instance of Type ("+b.type.name+")");return a},d=function(a){var c=h.map(h.filter(b.replace,i.propEq("from",a)),i.prop("to"));return c.length?c[0]:a};return a=d(a),j.isDefined(a)?this.type.$normalize(a):c()},a.prototype.isSearch=function(){return this.location===q.SEARCH},a.prototype.validates=function(a){if((!j.isDefined(a)||null===a)&&this.isOptional)return!0;var b=this.type.$normalize(a);if(!this.type.is(b))return!1;var c=this.type.encode(b);return!(j.isString(c)&&!this.type.pattern.exec(c))},a.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},a.fromConfig=function(b,c,d){return new a(b,c,d,q.CONFIG)},a.fromPath=function(b,c,d){return new a(b,c,d,q.PATH)},a.fromSearch=function(b,c,d){return new a(b,c,d,q.SEARCH)},a.values=function(a,b){return b=b||{},a.map(function(a){return[a.id,a.value(b[a.id])]}).reduce(h.applyPairs,{})},a.equals=function(a,b,c){return b=b||{},c=c||{},-1===a.map(function(a){return a.type.equals(b[a.id],c[a.id])}).indexOf(!1)},a.validates=function(a,b){return b=b||{},-1===a.map(function(a){return a.validates(b[a.id])}).indexOf(!1)},a}();b.Param=r},function(a,b,c){var d=c(5),e=function(){function a(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return a.prototype.caseInsensitive=function(a){return this._isCaseInsensitive=d.isDefined(a)?a:this._isCaseInsensitive;
},a.prototype.strictMode=function(a){return this._isStrictMode=d.isDefined(a)?a:this._isStrictMode},a.prototype.defaultSquashPolicy=function(a){if(d.isDefined(a)&&a!==!0&&a!==!1&&!d.isString(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=d.isDefined(a)?a:this._defaultSquashPolicy},a}();b.MatcherConfig=e,b.matcherConfig=new e},function(a,b,c){function d(a,b){function c(a){return f.isArray(a)?a:f.isDefined(a)?[a]:[]}function d(a){switch(a.length){case 0:return void 0;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a,b){return function(g){if(f.isArray(g)&&0===g.length)return g;var h=c(g),i=e.map(h,a);return b===!0?0===e.filter(i,function(a){return!a}).length:d(i)}}function h(a){return function(b,d){var e=c(b),f=c(d);if(e.length!==f.length)return!1;for(var g=0;g<e.length;g++)if(!a(e[g],f[g]))return!1;return!0}}var i=this;["encode","decode","equals","$normalize"].map(function(b){i[b]=("equals"===b?h:g)(a[b].bind(a))}),e.extend(this,{name:a.name,pattern:a.pattern,is:g(a.is.bind(a),!0),$arrayMode:b})}var e=c(4),f=c(5),g=function(){function a(a){this.pattern=/.*/,e.extend(this,a)}return a.prototype.is=function(a,b){return!0},a.prototype.encode=function(a,b){return a},a.prototype.decode=function(a,b){return a},a.prototype.equals=function(a,b){return a==b},a.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},a.prototype.toString=function(){return"{Type:"+this.name+"}"},a.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},a.prototype.$asArray=function(a,b){if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},a}();b.Type=g},function(a,b,c){function d(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}var f=c(4),g=c(5),h=c(6),i=c(7),j=c(22),k=function(){function a(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:d,decode:e,is:h.is(String),pattern:/.*/,equals:h.val(!0)},string:{encode:d,decode:e,is:h.is(String),pattern:/[^\/]*/},"int":{encode:d,decode:function(a){return parseInt(a,10)},is:function(a){return g.isDefined(a)&&this.decode(a.toString())===a},pattern:/-?\d+/},bool:{encode:function(a){return a&&1||0},decode:function(a){return 0!==parseInt(a,10)},is:h.is(Boolean),pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):void 0},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):void 0},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:f.toJson,decode:f.fromJson,is:h.is(Object),equals:f.equals,pattern:/[^\/]*/},any:{encode:f.identity,decode:f.identity,equals:f.equals,pattern:/.*/}};var a=function(a,b){return new j.Type(f.extend({name:b},a))};this.types=f.inherit(f.map(this.defaultTypes,a),{})}return a.prototype.type=function(a,b,c){if(!g.isDefined(b))return this.types[a];if(this.types.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return this.types[a]=new j.Type(f.extend({name:a},b)),c&&(this.typeQueue.push({name:a,def:c}),this.enqueue||this._flushTypeQueue()),this},a.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var a=this.typeQueue.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");f.extend(this.types[a.name],i.services.$injector.invoke(a.def))}},a}();b.ParamTypes=k,b.paramTypes=new k},function(a,b,c){function d(){function a(a,b){return function(){e.forEach(a.split(" "),function(a){return c[a].splice(c[a].indexOf(b),1)})}}function b(a,b){c[a]&&c[a].length&&e.forEach(c[a],function(a){return a(b)})}var c={},d={};return f.prototype.$digest=function(){var a=this;e.forEach(this,function(c,e){c!==d[e]&&a.hasOwnProperty(e)&&(d[e]=c,b(e,c))})},f.prototype.$inherit=function(a,b,c){var d,f=e.ancestors(b,c),g={},h=[];for(var i in f)if(f[i]&&f[i].params&&(d=Object.keys(f[i].params),d.length))for(var j in d)h.indexOf(d[j])>=0||(h.push(d[j]),g[d[j]]=this[d[j]]);return e.extend({},g,a)},f.prototype.$set=function(a,c){var d=this,f=!1,g=!1;return c&&e.forEach(a,function(a,b){(c.parameter(b)||{}).dynamic!==!0&&(g=!0)}),g?!1:(e.forEach(a,function(a,c){a!==d[c]&&(d[c]=a,b(c),f=!0)}),this.$sync(),f)},f.prototype.$sync=function(){return e.copy(this,d),this},f.prototype.$off=function(){return c={},this},f.prototype.$raw=function(){return e.omit(this,Object.keys(this).filter(f.prototype.hasOwnProperty.bind(f.prototype)))},f.prototype.$localize=function(a,b){return new f(e.pick(b||this,Object.keys(a.params)))},f.prototype.$observe=function(b,d){return e.forEach(b.split(" "),function(a){return(c[a]||(c[a]=[])).push(d)}),a(b,d)},new f}var e=c(4),f=function(){function a(a){void 0===a&&(a={}),e.extend(this,a)}return a.prototype.$digest=function(){},a.prototype.$inherit=function(a,b,c){},a.prototype.$set=function(a,b){},a.prototype.$sync=function(){},a.prototype.$off=function(){},a.prototype.$raw=function(){},a.prototype.$localize=function(a,b){},a.prototype.$observe=function(a,b){},a}();b.StateParams=f,b.stateParamsFactory=d},function(a,b,c){var d=c(4),e=c(6),f=c(20),g=c(26),h=c(27),i=c(28),j=c(29),k=c(30),l=function(){function a(a,b,c,d,e,f,g,h,l){this.transition=a,this.$transitions=b,this.$urlRouter=c,this.$view=d,this.$state=e,this.$stateParams=f,this.$q=g,this.activeTransQ=h,this.changeHistory=l,this.viewHooks=new i.ViewHooks(a,d),this.enterExitHooks=new j.EnterExitHooks(a),this.resolveHooks=new k.ResolveHooks(a),this.treeChanges=a.treeChanges(),this.registerUpdateGlobalState(),this.viewHooks.registerHooks(),this.enterExitHooks.registerHooks(),this.resolveHooks.registerHooks()}return a.prototype.runTransition=function(){var a=this;this.activeTransQ.clear(),this.activeTransQ.enqueue(this.transition),this.$state.transition=this.transition;var b=this.transition.run().then(function(a){return a.to()})["catch"](function(b){return a.transRejected(b)}),c=function(){a.activeTransQ.remove(a.transition),a.$state.transition===a.transition&&(a.transition=null)};return b.then(c,c),b},a.prototype.registerUpdateGlobalState=function(){this.transition.onFinish({},this.updateGlobalState.bind(this),{priority:-1e4})},a.prototype.updateGlobalState=function(){var a=this,b=a.treeChanges,c=a.transition,d=a.$state,e=a.changeHistory;d.$current=c.$to(),d.current=d.$current.self,e.enqueue(b),this.updateStateParams()},a.prototype.transRejected=function(a){var b=this,c=b.transition,d=b.$state,i=b.$stateParams,j=b.$q;if(a instanceof g.TransitionRejection){if(a.type===g.RejectType.IGNORED){var k=d.$current.parameters().filter(e.prop("dynamic"));return f.Param.equals(k,i,c.params())||this.updateStateParams(),d.current}if(a.type===g.RejectType.SUPERSEDED&&a.redirected&&a.detail instanceof h.TargetState)return this._redirectMgr(c.redirect(a.detail)).runTransition()}return this.$transitions.defaultErrorHandler()(a),j.reject(a)},a.prototype.updateStateParams=function(){var a=this,b=a.transition,c=a.$urlRouter,e=a.$state,f=a.$stateParams,g=b.options();e.params=b.params(),d.copy(e.params,f),f.$sync().$off(),g.location&&e.$current.navigable&&c.push(e.$current.navigable.url,f,{replace:"replace"===g.location}),c.update(!0)},a.prototype._redirectMgr=function(b){var c=this,d=c.$transitions,e=c.$urlRouter,f=c.$view,g=c.$state,h=c.$stateParams,i=c.$q,j=c.activeTransQ,k=c.changeHistory;return new a(b,d,e,f,g,h,i,j,k)},a}();b.TransitionManager=l},function(a,b,c){"use strict";var d=c(4),e=c(7);!function(a){a[a.SUPERSEDED=2]="SUPERSEDED",a[a.ABORTED=3]="ABORTED",a[a.INVALID=4]="INVALID",a[a.IGNORED=5]="IGNORED"}(b.RejectType||(b.RejectType={}));var f=b.RejectType,g=function(){function a(a,b,c){d.extend(this,{type:a,message:b,detail:c})}return a.prototype.toString=function(){var a=function(a){return a&&a.toString!==Object.prototype.toString?a.toString():JSON.stringify(a)},b=this.type,c=this.message,d=a(this.detail);return"TransitionRejection(type: "+b+", message: "+c+", detail: "+d+")"},a}();b.TransitionRejection=g;var h=function(){function a(){}return a.prototype.superseded=function(a,b){var c="The transition has been superseded by a different transition (see detail).",h=new g(f.SUPERSEDED,c,a);return b&&b.redirected&&(h.redirected=!0),d.extend(e.services.$q.reject(h),{reason:h})},a.prototype.redirected=function(a){return this.superseded(a,{redirected:!0})},a.prototype.invalid=function(a){var b="This transition is invalid (see detail)",c=new g(f.INVALID,b,a);return d.extend(e.services.$q.reject(c),{reason:c})},a.prototype.ignored=function(a){var b="The transition was ignored.",c=new g(f.IGNORED,b,a);return d.extend(e.services.$q.reject(c),{reason:c})},a.prototype.aborted=function(a){var b="The transition has been aborted.",c=new g(f.ABORTED,b,a);return d.extend(e.services.$q.reject(c),{reason:c})},a}();b.RejectFactory=h},function(a,b){var c=function(){function a(a,b,c,d){void 0===c&&(c={}),void 0===d&&(d={}),this._identifier=a,this._definition=b,this._options=d,this._params=c||{}}return a.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},a.prototype.identifier=function(){return this._identifier},a.prototype.params=function(){return this._params},a.prototype.$state=function(){return this._definition},a.prototype.state=function(){return this._definition&&this._definition.self},a.prototype.options=function(){return this._options},a.prototype.exists=function(){return!(!this._definition||!this._definition.self)},a.prototype.valid=function(){return!this.error()},a.prototype.error=function(){var a=this.options().relative;if(!this._definition&&a){var b=a.name?a.name:a;return"Could not resolve '"+this.name()+"' from state '"+b+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},a}();b.TargetState=c},function(a,b,c){var d=c(4),e=c(6),f=c(7),g=function(){function a(a,b){this.transition=a,this.$view=b,this.treeChanges=a.treeChanges(),this.enteringViews=a.views("entering"),this.exitingViews=a.views("exiting")}return a.prototype.loadAllEnteringViews=function(){var a=this,b=function(b){var c=d.find(a.treeChanges.to,e.propEq("state",b.context)).resolveInjector;return a.$view.load(b,c)};return f.services.$q.all(this.enteringViews.map(b)).then(d.noop)},a.prototype.updateViews=function(){var a=this.$view;this.exitingViews.forEach(function(b){return a.reset(b)}),this.enteringViews.forEach(function(b){return a.registerStateViewConfig(b)}),a.sync()},a.prototype.registerHooks=function(){this.enteringViews.length&&this.transition.onStart({},this.loadAllEnteringViews.bind(this)),(this.exitingViews.length||this.enteringViews.length)&&this.transition.onSuccess({},this.updateViews.bind(this))},a}();b.ViewHooks=g},function(a,b){var c=function(){function a(a){this.transition=a}return a.prototype.registerHooks=function(){this.registerOnEnterHooks(),this.registerOnRetainHooks(),this.registerOnExitHooks()},a.prototype.registerOnEnterHooks=function(){var a=this;this.transition.entering().filter(function(a){return!!a.onEnter}).forEach(function(b){return a.transition.onEnter({entering:b.name},b.onEnter)})},a.prototype.registerOnRetainHooks=function(){var a=this;this.transition.retained().filter(function(a){return!!a.onRetain}).forEach(function(b){return a.transition.onRetain({retained:b.name},b.onRetain)})},a.prototype.registerOnExitHooks=function(){var a=this;this.transition.exiting().filter(function(a){return!!a.onExit}).forEach(function(b){return a.transition.onExit({exiting:b.name},b.onExit)})},a}();b.EnterExitHooks=c},function(a,b,c){var d=c(4),e=c(6),f=c(31),g=c(6),h=f.ResolvePolicy[f.ResolvePolicy.LAZY],i=f.ResolvePolicy[f.ResolvePolicy.EAGER],j=function(){function a(a){this.transition=a}return a.prototype.registerHooks=function(){function a(a){return d.tail(c.to).resolveContext.resolvePath(d.extend({transition:a},{resolvePolicy:i}))}function b(a,b){var f=d.find(c.entering,e.propEq("state",a));return f.resolveContext.resolvePathElement(f.state,d.extend({transition:b},{resolvePolicy:h}))}var c=this.transition.treeChanges();a.$inject=["$transition$"],b.$inject=["$state$","$transition$"],this.transition.onStart({},a,{priority:1e3}),this.transition.onEnter({entering:g.val(!0)},b,{priority:1e3})},a}();b.ResolveHooks=j},function(a,b){!function(a){a[a.JIT=0]="JIT",a[a.LAZY=1]="LAZY",a[a.EAGER=2]="EAGER"}(b.ResolvePolicy||(b.ResolvePolicy={}));b.ResolvePolicy},function(a,b,c){var d=c(4),e=c(6),f=function(){function a(a){d.extend(this,a)}return a.prototype.is=function(a){return this===a||this.self===a||this.fqn()===a},a.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var a=this.parent.fqn();return a?a+"."+this.name:this.name},a.prototype.root=function(){return this.parent&&this.parent.root()||this},a.prototype.parameters=function(a){a=d.defaults(a,{inherit:!0});var b=a.inherit&&this.parent&&this.parent.parameters()||[];return b.concat(d.values(this.params))},a.prototype.parameter=function(a,b){return void 0===b&&(b={}),this.url&&this.url.parameter(a,b)||d.find(d.values(this.params),e.propEq("id",a))||b.inherit&&this.parent&&this.parent.parameter(a)},a.prototype.toString=function(){return this.fqn()},a}();b.State=f},function(a,b,c){var d=c(5),e=function(){function a(a){this._states=a}return a.prototype.isRelative=function(a){return a=a||"",0===a.indexOf(".")||0===a.indexOf("^")},a.prototype.find=function(a,b){if(!a&&""!==a)return void 0;var c=d.isString(a),e=c?a:a.name;this.isRelative(e)&&(e=this.resolvePath(e,b));var f=this._states[e];return!f||!c&&(c||f!==a&&f.self!==a)?void 0:f},a.prototype.resolvePath=function(a,b){if(!b)throw new Error("No reference point given for path '"+a+"'");for(var c=this.find(b),d=a.split("."),e=0,f=d.length,g=c;f>e;e++)if(""!==d[e]||0!==e){if("^"!==d[e])break;if(!g.parent)throw new Error("Path '"+a+"' not valid for state '"+c.name+"'");g=g.parent}else g=c;var h=d.slice(e).join(".");return g.name+(g.name&&h?".":"")+h},a}();b.StateMatcher=e},function(a,b,c){var d=c(4),e=c(5),f=c(15),g=function(){function a(a,b,c){this.states=a,this.builder=b,this.$urlRouterProvider=c,this.queue=[]}return a.prototype.register=function(a){var b=this,c=b.states,g=b.queue,h=b.$state,i=d.inherit(new f.State,d.extend({},a,{self:a,resolve:a.resolve||{},toString:function(){return a.name}}));if(!e.isString(i.name))throw new Error("State must have a valid name");if(c.hasOwnProperty(i.name)||-1!==d.pluck(g,"name").indexOf(i.name))throw new Error("State '"+i.name+"' is already defined");return g.push(i),this.$state&&this.flush(h),i},a.prototype.flush=function(a){for(var b,c,d,e=this,f=e.queue,g=e.states,h=e.builder,i=[],j={};f.length>0;)if(c=f.shift(),b=h.build(c),d=i.indexOf(c),b){if(g.hasOwnProperty(c.name))throw new Error("State '"+name+"' is already defined");g[c.name]=c,this.attachRoute(a,c),d>=0&&i.splice(d,1)}else{var k=j[c.name];if(j[c.name]=f.length,d>=0&&k===f.length)throw new Error("Cannot register orphaned state '"+c.name+"'");0>d&&i.push(c),f.push(c)}return g},a.prototype.autoFlush=function(a){this.$state=a,this.flush(a)},a.prototype.attachRoute=function(a,b){var c=this.$urlRouterProvider;!b[d.abstractKey]&&b.url&&c.when(b.url,["$match","$stateParams",function(c,e){a.$current.navigable===b&&d.equalForKeys(c,e)||a.transitionTo(b,c,{inherit:!0,location:!1})}])},a}();b.StateQueueManager=g},function(a,b,c){var d=c(4),e=c(5),f=c(8),g=c(7),h=c(36),i=c(38),j=c(24),k=c(43),l=c(26),m=c(27),n=c(25),o=c(20),p=c(16),q=c(4),r=c(4),s=function(){function a(b,c,e,g,h,i){this.$view=b,this.$stateParams=c,this.$urlRouter=e,this.$transitions=g,this.stateRegistry=h,this.stateProvider=i,this.transQueue=new f.Queue,this.treeChangesQueue=new f.Queue,this.rejectFactory=new l.RejectFactory,this.params=new j.StateParams,r.bindFunctions(a.prototype,this,this);var k=h.root();d.extend(this,{params:new j.StateParams,current:k.self,$current:k,transition:null})}return a.prototype._handleInvalidTargetState=function(a,b){function c(){var a=k.dequeue();return void 0===a?l.invalid(b.error()):p(a).then(q).then(function(a){return a||c()})}var d=this,e=function(){return d.transQueue.peekTail()||d.treeChangesQueue.peekTail()},i=e(),j=h.PathFactory.makeTargetState(a),k=new f.Queue([].concat(this.stateProvider.invalidCallbacks)),l=this.rejectFactory,n=g.services.$q,o=g.services.$injector,p=function(a){return n.when(o.invoke(a,null,{$to$:b,$from$:j}))},q=function(a){if(a instanceof m.TargetState){var b=a;return b=d.target(b.identifier(),b.params(),b.options()),b.valid()?e()!==i?l.superseded():d.transitionTo(b.identifier(),b.params(),b.options()):l.invalid(b.error())}};return c()},a.prototype.reload=function(a){return this.transitionTo(this.current,this.$stateParams,{reload:e.isDefined(a)?a:!0,inherit:!1,notify:!1})},a.prototype.go=function(a,b,c){var e={relative:this.$current,inherit:!0},f=d.defaults(c,e,k.defaultTransOpts);return this.transitionTo(a,b,f)},a.prototype.target=function(a,b,c){void 0===c&&(c={});var d=this.stateRegistry.matcher.find(a,c.relative);return new m.TargetState(a,d,b,c)},a.prototype.transitionTo=function(a,b,c){var f=this;void 0===b&&(b={}),void 0===c&&(c={});var j=this,l=j.transQueue,m=j.treeChangesQueue;if(c=d.defaults(c,k.defaultTransOpts),c=d.extend(c,{current:l.peekTail.bind(l)}),e.isObject(c.reload)&&!c.reload.name)throw new Error("Invalid reload state object");if(c.reloadState=c.reload===!0?this.$current.path[0]:this.stateRegistry.matcher.find(c.reload,c.relative),c.reload&&!c.reloadState)throw new Error("No such reload state '"+(e.isString(c.reload)?c.reload:c.reload.name)+"'");var o=this.target(a,b,c),p=m.peekTail(),q=function(){return h.PathFactory.bindTransNodesToPath([new i.Node(f.stateRegistry.root(),{})])},r=p?p.to:q();if(!o.exists())return this._handleInvalidTargetState(r,o);if(!o.valid())return g.services.$q.reject(o.error());var s=this.$transitions.create(r,o),t=new n.TransitionManager(s,this.$transitions,this.$urlRouter,this.$view,this,this.$stateParams,g.services.$q,l,m),u=t.runTransition();return d.extend(u,{transition:s})},a.prototype.is=function(a,b,c){c=d.defaults(c,{relative:this.$current});var f=this.stateRegistry.matcher.find(a,c.relative);return e.isDefined(f)?this.$current!==f?!1:e.isDefined(b)&&null!==b?o.Param.equals(f.parameters(),this.$stateParams,b):!0:void 0},a.prototype.includes=function(a,b,c){c=d.defaults(c,{relative:this.$current});var f=e.isString(a)&&p.Glob.fromString(a);if(f){if(!f.matches(this.$current.name))return!1;a=this.$current.name}var g=this.stateRegistry.matcher.find(a,c.relative),h=this.$current.includes;return e.isDefined(g)?e.isDefined(h[g.name])?b?q.equalForKeys(o.Param.values(g.parameters(),b),this.$stateParams,Object.keys(b)):!0:!1:void 0},a.prototype.href=function(a,b,c){var f={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};c=d.defaults(c,f);var g=this.stateRegistry.matcher.find(a,c.relative);if(!e.isDefined(g))return null;c.inherit&&(b=this.$stateParams.$inherit(b||{},this.$current,g));var h=g&&c.lossy?g.navigable:g;return h&&void 0!==h.url&&null!==h.url?this.$urlRouter.href(h.url,o.Param.values(g.parameters(),b),{absolute:c.absolute}):null},a.prototype.get=function(a,b){return this.stateRegistry.get.apply(this.stateRegistry,arguments)},a}();b.StateService=s},function(a,b,c){var d=c(4),e=c(6),f=c(15),g=c(37),h=c(39),i=function(){function a(){}return a.makeTargetState=function(a){var b=d.tail(a).state;return new f.TargetState(b,b,a.map(e.prop("values")).reduce(d.mergeR,{}))},a.buildToPath=function(b,c){var d=c.params(),e=a.makeParamsNode(d),f=c.$state().path.map(e);return c.options().inherit&&(f=a.inheritParams(b,f,Object.keys(d))),f},a.inheritParams=function(a,b,c){function f(a,b){var c=d.find(a,e.propEq("state",b));return d.extend({},c&&c.values)}void 0===c&&(c=[]);var h=e.curry(function(a,b,c){var e=d.extend({},c&&c.values),h=d.pick(e,b);e=d.omit(e,b);var i=f(a,c.state)||{},j=d.extend(e,i,h);return new g.Node(c.state,j)});return b.map(h(a,c))},a.bindTransNodesToPath=function(a){var b=new h.ResolveContext(a);return a.forEach(function(a){a.resolveContext=b.isolateRootTo(a.state),a.resolveInjector=new h.ResolveInjector(a.resolveContext,a.state),a.resolves.$stateParams=new h.Resolvable("$stateParams",function(){return a.values},a.values)}),a},a.treeChanges=function(b,c,d){function f(a,b){return g.Node.clone(a,{values:c[b].values})}for(var h=0,i=Math.min(b.length,c.length),j=function(a){return a.parameters({inherit:!1}).filter(e.not(e.prop("dynamic"))).map(e.prop("id"))},k=function(a,b){return a.equals(b,j(a.state))};i>h&&b[h].state!==d&&k(b[h],c[h]);)h++;var l,m,n,o,p,q,r,s;return l=b,m=l.slice(0,h),n=l.slice(h),q=m.map(f),r=c.slice(h),s=q.concat(r),p=a.bindTransNodesToPath(s),o=p.slice(h),{from:l,to:p,retained:m,exiting:n,entering:o}},a.bindTransitionResolve=function(a,b){var c=a.to[0];c.resolves.$transition$=new h.Resolvable("$transition$",function(){return b},b)},a.makeParamsNode=e.curry(function(a,b){return new g.Node(b,a)}),a}();b.PathFactory=i},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(38)),d(c(36))},function(a,b,c){var d=c(4),e=c(6),f=c(39),g=c(42),h=function(){function a(a,b,c){var e=this;void 0===b&&(b={}),void 0===c&&(c={}),this.state=a,this.schema=a.parameters({inherit:!1});var h=function(a){return[a.id,a.value(b[a.id])]};this.values=this.schema.reduce(function(a,b){return d.applyPairs(a,h(b))},{}),this.resolves=d.extend(d.map(a.resolve,function(a,b){return new f.Resolvable(b,a)}),c);var i=function(c,d){return new g.ViewConfig({rawViewName:d,viewDeclarationObj:c,context:a,params:b,node:e})};this.views=d.values(d.map(a.views,i))}return a.prototype.parameter=function(a){return d.find(this.schema,e.propEq("id",a))},a.prototype.equals=function(a,b){var c=this;void 0===b&&(b=this.schema.map(e.prop("id")));var f=function(b){return c.parameter(b).type.equals(c.values[b],a.values[b])};return this.state===a.state&&b.map(f).reduce(d.allTrueR,!0)},a.clone=function(b,c){return void 0===c&&(c={}),new a(b.state,c.values||b.values,c.resolves||b.resolves)},a.matching=function(a,b){var c=a.reduce(function(a,c,d){return a===d&&d<b.length&&c.state===b[d].state?d+1:a},0);return a.slice(0,c)},a}();b.Node=h},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(10)),d(c(40)),d(c(41))},function(a,b,c){function d(a,b){var c=g.isString(a)?a:null,d=g.isObject(a)?a:{},e=d[b.name]||c||l;return j.ResolvePolicy[e]}var e=c(4),f=c(6),g=c(5),h=c(9),i=c(7),j=c(31),k=c(4),l=j.ResolvePolicy[j.ResolvePolicy.LAZY],m=function(){function a(a){this._path=a,e.extend(this,{_nodeFor:function(a){return e.find(this._path,f.propEq("state",a))},_pathTo:function(a){var b=this._nodeFor(a),c=this._path.indexOf(b);if(-1===c)throw new Error("This path does not contain the state");return this._path.slice(0,c+1)}})}return a.prototype.getResolvables=function(a,b){b=e.defaults(b,{omitOwnLocals:[]});var c=a?this._pathTo(a):this._path,d=e.tail(c);return c.reduce(function(a,c){var f=c===d?b.omitOwnLocals:[],g=e.omit(c.resolves,f);return e.extend(a,g)},{})},a.prototype.getResolvablesForFn=function(a){var b=i.services.$injector.annotate(a);return e.pick(this.getResolvables(),b)},a.prototype.isolateRootTo=function(b){return new a(this._pathTo(b))},a.prototype.addResolvables=function(a,b){e.extend(this._nodeFor(b).resolves,a)},a.prototype.getOwnResolvables=function(a){return e.extend({},this._nodeFor(a).resolves)},a.prototype.resolvePath=function(a){var b=this;void 0===a&&(a={}),h.trace.traceResolvePath(this._path,a);var c=function(c){return b.resolvePathElement(c.state,a)};return i.services.$q.all(e.map(this._path,c)).then(function(a){return a.reduce(k.mergeR,{})})},a.prototype.resolvePathElement=function(a,b){var c=this;void 0===b&&(b={});var f=b&&b.resolvePolicy,g=j.ResolvePolicy[f||l],k=this.getOwnResolvables(a),m=function(b){return d(a.resolvePolicy,b)>=g},n=e.filter(k,m),o=function(d){return d.get(c.isolateRootTo(a),b)},p=e.map(n,o);return h.trace.traceResolvePathElement(this,n,b),i.services.$q.all(p)},a.prototype.invokeLater=function(a,b,c){var d=this;void 0===b&&(b={}),void 0===c&&(c={});var f=this.getResolvablesForFn(a);h.trace.tracePathElementInvoke(e.tail(this._path),a,Object.keys(f),e.extend({when:"Later"},c));var g=function(a){return a.get(d,c)},j=e.map(f,g);return i.services.$q.all(j).then(function(){try{return d.invokeNow(a,b,c)}catch(e){return i.services.$q.reject(e)}})},a.prototype.invokeNow=function(a,b,c){void 0===c&&(c={});var d=this.getResolvablesForFn(a);h.trace.tracePathElementInvoke(e.tail(this._path),a,Object.keys(d),e.extend({when:"Now  "},c));var g=e.map(d,f.prop("data"));return i.services.$injector.invoke(a,null,e.extend({},b,g))},a}();b.ResolveContext=m},function(a,b,c){var d=c(4),e=function(){function a(a,b){this._resolveContext=a,this._state=b}return a.prototype.invokeLater=function(a,b){return this._resolveContext.invokeLater(a,b)},a.prototype.invokeNow=function(a,b){return this._resolveContext.invokeNow(null,a,b)},a.prototype.getLocals=function(a){var b=this,c=function(a){return a.get(b._resolveContext)};return d.map(this._resolveContext.getResolvablesForFn(a),c)},a}();b.ResolveInjector=e},function(a,b,c){"use strict";function d(a){void 0===a&&(a="");var b=a.split("@"),c=b[0]||"$default",d=g.isString(b[1])?b[1]:"^",e=/^(\^(?:\.\^)*)\.(.*$)/.exec(c);return e&&(d=e[1],c=e[2]),"!"===c.charAt(0)&&(c=c.substr(1),d=""),{uiViewName:c,uiViewContextAnchor:d}}var e=c(4),f=c(6),g=c(5),h=c(3),i=c(7),j=function(){function a(a){var b=d(a.rawViewName),c=b.uiViewName,f=b.uiViewContextAnchor,g=/^(\^(?:\.\^)*)$/;if(g.exec(f)){var h=f.split(".").reduce(function(a,b){return a.parent},a.context);f=h.name}e.extend(this,e.pick(a,"viewDeclarationObj","params","context","locals","node"),{uiViewName:c,uiViewContextAnchor:f}),this.controllerAs=a.viewDeclarationObj.controllerAs}return a.prototype.hasTemplate=function(){var a=this.viewDeclarationObj;return!!(a.template||a.templateUrl||a.templateProvider)},a.prototype.getTemplate=function(a,b){return a.fromConfig(this.viewDeclarationObj,this.params,b.invokeLater.bind(b))},a.prototype.getController=function(a){var b=this.viewDeclarationObj.controllerProvider;return g.isInjectable(b)?a.invokeLater(b,{}):this.viewDeclarationObj.controller},a}();b.ViewConfig=j;var k=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return function(c){return b.reduce(function(b,d){return b&&a[d]===c[d]},!0)}},l=function(){function a(a){var b=this;this.$templateFactory=a,this.uiViews=[],this.viewConfigs=[],this.sync=function(){function a(a){return a.fqn.split(".").length}function c(a){for(var b=a.context,c=0;++c&&b.parent;)b=b.parent;return c}var d=b.uiViews.map(function(a){return[a.fqn,a]}).reduce(e.applyPairs,{}),g=f.curry(function(a,b){var c=b.uiViewName.split("."),f=a.fqn.split(".");if(!e.equals(c,f.slice(0-c.length)))return!1;var g=1-c.length||void 0,h=f.slice(0,g).join("."),i=d[h].creationContext;return b.uiViewContextAnchor===(i&&i.name)}),h=f.curry(function(a,b,c,d){return b*(a(c)-a(d))}),i=function(a){var d=b.viewConfigs.filter(g(a));return d.length>1&&d.sort(h(c,-1)),[a,d[0]]},j=function(a){var c=a[0],d=a[1];-1!==b.uiViews.indexOf(c)&&c.configUpdated(d)};b.uiViews.sort(h(a,1)).map(i).forEach(j)}}return a.prototype.rootContext=function(a){return this._rootContext=a||this._rootContext},a.prototype.load=function(a,b){if(!a.hasTemplate())throw new Error("No template configuration specified for '"+a.uiViewName+"@"+a.uiViewContextAnchor+"'");var c=i.services.$q,d={template:c.when(a.getTemplate(this.$templateFactory,b)),controller:c.when(a.getController(b))};return c.all(d).then(function(b){return h.trace.traceViewServiceEvent("Loaded",a),e.extend(a,b)})},a.prototype.reset=function(a){h.trace.traceViewServiceEvent("<- Removing",a),this.viewConfigs.filter(k(a,"uiViewName","context")).forEach(e.removeFrom(this.viewConfigs))},a.prototype.registerStateViewConfig=function(a){h.trace.traceViewServiceEvent("-> Registering",a),this.viewConfigs.push(a)},a.prototype.registerUiView=function(a){h.trace.traceViewServiceUiViewEvent("-> Registering",a);var b=this.uiViews,c=function(b){return b.fqn===a.fqn};return b.filter(c).length&&h.trace.traceViewServiceUiViewEvent("!!!! duplicate uiView named:",a),b.push(a),this.sync(),function(){var c=b.indexOf(a);return 0>=c?void h.trace.traceViewServiceUiViewEvent("Tried removing non-registered uiView",a):(h.trace.traceViewServiceUiViewEvent("<- Deregistering",a),void e.removeFrom(b)(a))}},a.prototype.available=function(){return this.uiViews.map(f.prop("fqn"))},a.prototype.active=function(){return this.uiViews.filter(f.prop("$config")).map(f.prop("name"))},a}();b.ViewService=l},function(a,b,c){var d=c(11),e=c(14);b.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null}};var f=function(){function a(){this._defaultErrorHandler=function(a){a instanceof Error&&console.log(a)},e.HookRegistry.mixin(new e.HookRegistry,this)}return a.prototype.defaultErrorHandler=function(a){return this._defaultErrorHandler=a||this._defaultErrorHandler},a.prototype.create=function(a,b){return new d.Transition(a,b,this)},a}();b.TransitionService=f},function(a,b,c){var d=c(4),e=c(5),f=c(6),g=c(9),h=c(7),i=c(26),j=c(15),k=new i.RejectFactory,l={async:!0,rejectIfSuperseded:!0,current:d.noop,transition:null,traceData:{}},m=function(){function a(a,b,c,h){var i=this;this.fn=a,this.locals=b,this.resolveContext=c,this.options=h,this.isSuperseded=function(){return i.options.current()!==i.options.transition},this.mapHookResult=f.pattern([[this.isSuperseded,function(){return k.superseded(i.options.current())}],[f.eq(!1),function(){return k.aborted("Hook aborted transition")}],[f.is(j.TargetState),function(a){return k.redirected(a)}],[e.isPromise,function(a){return a.then(i.handleHookResult.bind(i))}]]),this.invokeStep=function(a){var b=i,c=b.options,e=b.fn,f=b.resolveContext,h=d.extend({},i.locals,a);if(g.trace.traceHookInvocation(i,c),c.rejectIfSuperseded&&i.isSuperseded())return k.superseded(c.current());if(!c.async){var j=f.invokeNow(e,h,c);return i.handleHookResult(j)}return f.invokeLater(e,h,c).then(i.handleHookResult.bind(i))},this.options=d.defaults(h,l)}return a.prototype.handleHookResult=function(a){if(!e.isDefined(a))return void 0;g.trace.traceHookResult(a,void 0,this.options);var b=this.mapHookResult(a);return b&&g.trace.traceHookResult(a,b,this.options),b},a.prototype.toString=function(){var a=this,b=a.options,c=a.fn,e=f.parse("traceData.hookType")(b)||"internal",g=f.parse("traceData.context.state.name")(b)||f.parse("traceData.context")(b)||"unknown",h=d.fnToString(c);return e+" context: "+g+", "+d.maxLength(200,h)},a.runSynchronousHooks=function(b,c,d){void 0===c&&(c={}),void 0===d&&(d=!1);for(var g=[],i=0;i<b.length;i++)try{g.push(b[i].invokeStep(c))}catch(j){if(!d)throw j;console.log("Swallowed exception during synchronous hook handler: "+j)}var k=g.filter(a.isRejection);return k.length?k[0]:g.filter(f.not(a.isRejection)).filter(e.isPromise).reduce(function(a,b){return a.then(f.val(b))},h.services.$q.when())},a.isRejection=function(a){return a&&a.reason instanceof i.TransitionRejection&&a},a}();b.TransitionHook=m},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(46)),d(c(21)),d(c(47)),d(c(48))},function(a,b,c){function d(a,b){var c=["",""],d=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return d;switch(b.squash){case!1:c=["(",")"+(b.isOptional?"?":"")];break;case!0:d=d.replace(/\/$/,""),c=["(?:/(",")|/)?"];break;default:c=["("+b.squash+"|",")?"]}return d+c[0]+b.type.pattern.source+c[1];
}var e=c(4),f=c(6),g=c(5),h=c(19),i=c(5),j=c(20),k=c(4),l=c(4),m=function(a,b,c){return a[b]=a[b]||c()},n=function(){function a(b,c){var g=this;this.pattern=b,this.config=c,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=e.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:e.identity});for(var i,j,k,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,n=0,o=[],p=function(c){if(!a.nameValidator.test(c))throw new Error("Invalid parameter name '"+c+"' in pattern '"+b+"'");if(e.find(g._params,f.propEq("id",c)))throw new Error("Duplicate parameter name '"+c+"' in pattern '"+b+"'")},q=function(a,c){var d=a[2]||a[3],f=c?a[4]:a[4]||("*"===a[1]?".*":null);return{id:d,regexp:f,cfg:g.config.params[d],segment:b.substring(n,a.index),type:f?h.paramTypes.type(f||"string")||e.inherit(h.paramTypes.type("string"),{pattern:new RegExp(f,g.config.caseInsensitive?"i":void 0)}):null}};(i=l.exec(b))&&(j=q(i,!1),!(j.segment.indexOf("?")>=0));)p(j.id),this._params.push(h.Param.fromPath(j.id,j.type,this.config.paramMap(j.cfg,!1))),this._segments.push(j.segment),o.push([j.segment,e.tail(this._params)]),n=l.lastIndex;k=b.substring(n);var r=k.indexOf("?");if(r>=0){var s=k.substring(r);if(k=k.substring(0,r),s.length>0)for(n=0;i=m.exec(s);)j=q(i,!0),p(j.id),this._params.push(h.Param.fromSearch(j.id,j.type,this.config.paramMap(j.cfg,!0))),n=l.lastIndex}this._segments.push(k),e.extend(this,{_compiled:o.map(function(a){return d.apply(null,a)}).concat(d(k)),prefix:this._segments[0]}),Object.freeze(this)}return a.prototype.append=function(a){return this._children.push(a),e.forEach(a._cache,function(b,c){return a._cache[c]=g.isArray(b)?[]:null}),a._cache.path=this._cache.path.concat(this),a},a.prototype.isRoot=function(){return 0===this._cache.path.length},a.prototype.toString=function(){return this.pattern},a.prototype.exec=function(a,b,c,d){function g(a){var b=function(a){return a.split("").reverse().join("")},c=function(a){return a.replace(/\\-/g,"-")},d=b(a).split(/-(?!\\)/),f=e.map(d,b);return e.map(f,c).reverse()}var h=this;void 0===b&&(b={}),void 0===d&&(d={});var j=m(this._cache,"pattern",function(){return new RegExp(["^",e.unnest(h._cache.path.concat(h).map(f.prop("_compiled"))).join(""),h.config.strict===!1?"/?":"","$"].join(""),h.config.caseInsensitive?"i":void 0)}).exec(a);if(!j)return null;var k=this.parameters(),l=k.filter(function(a){return!a.isSearch()}),n=k.filter(function(a){return a.isSearch()}),o=this._cache.path.concat(this).map(function(a){return a._segments.length-1}).reduce(function(a,b){return a+b}),p={};if(o!==j.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var q=0;o>q;q++){for(var r=l[q],s=j[q+1],t=0;t<r.replace.length;t++)r.replace[t].from===s&&(s=r.replace[t].to);s&&r.array===!0&&(s=g(s)),i.isDefined(s)&&(s=r.type.decode(s)),p[r.id]=r.value(s)}return e.forEach(n,function(a){for(var c=b[a.id],d=0;d<a.replace.length;d++)a.replace[d].from===c&&(c=a.replace[d].to);i.isDefined(c)&&(c=a.type.decode(c)),p[a.id]=a.value(c)}),c&&(p["#"]=c),p},a.prototype.parameters=function(a){return void 0===a&&(a={}),a.inherit===!1?this._params:e.unnest(this._cache.path.concat(this).map(f.prop("_params")))},a.prototype.parameter=function(a,b){void 0===b&&(b={});var c=e.tail(this._cache.path);return e.find(this._params,f.propEq("id",a))||b.inherit!==!1&&c&&c.parameter(a)||null},a.prototype.validates=function(a){var b=this,c=function(a,b){return!a||a.validates(b)};return e.pairs(a||{}).map(function(a){var d=a[0],e=a[1];return c(b.parameter(d),e)}).reduce(e.allTrueR,!0)},a.prototype.format=function(b){function c(a){var c=a.value(b[a.id]),d=a.isDefaultValue(c),e=d?a.squash:!1,f=a.type.encode(c);return{param:a,value:c,isDefaultValue:d,squash:e,encoded:f}}if(void 0===b&&(b={}),!this.validates(b))return null;var d=this._cache.path.slice().concat(this),f=d.map(a.pathSegmentsAndParams).reduce(k.unnestR,[]),h=d.map(a.queryParams).reduce(k.unnestR,[]),i=f.reduce(function(b,d){if(g.isString(d))return b+d;var f=c(d),h=f.squash,i=f.encoded,j=f.param;return h===!0?b.match(/\/$/)?b.slice(0,-1):b:g.isString(h)?b+h:h!==!1?b:null==i?b:g.isArray(i)?b+e.map(i,a.encodeDashes).join("-"):j.type.raw?b+i:b+encodeURIComponent(i)},""),j=h.map(function(a){var b=c(a),d=b.squash,f=b.encoded,h=b.isDefaultValue;if(!(null==f||h&&d!==!1)&&(g.isArray(f)||(f=[f]),0!==f.length))return a.type.raw||(f=e.map(f,encodeURIComponent)),f.map(function(b){return a.id+"="+b})}).filter(e.identity).reduce(k.unnestR,[]).join("&");return i+(j?"?"+j:"")+(b["#"]?"#"+b["#"]:"")},a.encodeDashes=function(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})},a.pathSegmentsAndParams=function(a){var b=a._segments,c=a._params.filter(function(a){return a.location===j.DefType.PATH});return l.arrayTuples(b,c.concat(void 0)).reduce(k.unnestR,[]).filter(function(a){return""!==a&&i.isDefined(a)})},a.queryParams=function(a){return a._params.filter(function(a){return a.location===j.DefType.SEARCH})},a.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,a}();b.UrlMatcher=n},function(a,b,c){function d(){return{strict:g.matcherConfig.strictMode(),caseInsensitive:g.matcherConfig.caseInsensitive()}}var e=c(4),f=c(5),g=c(45),h=c(19),i=function(){function a(){e.extend(this,{UrlMatcher:g.UrlMatcher,Param:h.Param})}return a.prototype.caseInsensitive=function(a){return g.matcherConfig.caseInsensitive(a)},a.prototype.strictMode=function(a){return g.matcherConfig.strictMode(a)},a.prototype.defaultSquashPolicy=function(a){return g.matcherConfig.defaultSquashPolicy(a)},a.prototype.compile=function(a,b){return new g.UrlMatcher(a,e.extend(d(),b))},a.prototype.isMatcher=function(a){if(!f.isObject(a))return!1;var b=!0;return e.forEach(g.UrlMatcher.prototype,function(c,d){f.isFunction(c)&&(b=b&&f.isDefined(a[d])&&f.isFunction(a[d]))}),b},a.prototype.type=function(a,b,c){var d=h.paramTypes.type(a,b,c);return f.isDefined(b)?this:d},a.prototype.$get=function(){return h.paramTypes.enqueue=!1,h.paramTypes._flushTypeQueue(),this},a}();b.UrlMatcherFactory=i},function(a,b,c){function d(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function e(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function f(a,b,c,d){if(!d)return!1;var e=a.invoke(c,c,{$match:d,$stateParams:b});return j.isDefined(e)?e:!0}function g(a,b,c){var d=k.services.locationConfig.baseHref();return"/"===d?a:b?d.slice(0,-1)+a:c?d.slice(1)+a:a}function h(a,b,c){function d(a){var b=a(k.services.$injector,l);return b?(j.isString(b)&&(l.replace(),l.url(b)),!0):!1}if(!c||!c.defaultPrevented){var e,f=a.length;for(e=0;f>e;e++)if(d(a[e]))return;b&&d(b)}}var i=c(4),j=c(5),k=c(7),l=k.services.location,m=function(){function a(a,b){this.$urlMatcherFactory=a,this.$stateParams=b,this.rules=[],this.otherwiseFn=null,this.interceptDeferred=!1}return a.prototype.rule=function(a){if(!j.isFunction(a))throw new Error("'rule' must be a function");return this.rules.push(a),this},a.prototype.otherwise=function(a){if(!j.isFunction(a)&&!j.isString(a))throw new Error("'rule' must be a string or function");return this.otherwiseFn=j.isString(a)?function(){return a}:a,this},a.prototype.when=function(a,b){var c,g=this,h=g.$urlMatcherFactory,m=g.$stateParams,n=j.isString(b);if(j.isString(a)&&(a=h.compile(a)),!n&&!j.isFunction(b)&&!j.isArray(b))throw new Error("invalid 'handler' in when()");var o={matcher:function(a,b){return n&&(c=h.compile(b),b=["$match",c.format.bind(c)]),i.extend(function(){return f(k.services.$injector,m,b,a.exec(l.path(),l.search(),l.hash()))},{prefix:j.isString(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return n&&(c=b,b=["$match",function(a){return e(c,a)}]),i.extend(function(){return f(k.services.$injector,m,b,a.exec(l.path()))},{prefix:d(a)})}},p={matcher:h.isMatcher(a),regex:a instanceof RegExp};for(var q in p)if(p[q])return this.rule(o[q](a,b));throw new Error("invalid 'what' in when()")},a.prototype.deferIntercept=function(a){void 0===a&&(a=!0),this.interceptDeferred=a},a}();b.UrlRouterProvider=m;var n=function(){function a(b){this.urlRouterProvider=b,i.bindFunctions(a.prototype,this,this)}return a.prototype.sync=function(){h(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)},a.prototype.listen=function(){var a=this;return this.listener=this.listener||l.onChange(function(b){return h(a.urlRouterProvider.rules,a.urlRouterProvider.otherwiseFn,b)})},a.prototype.update=function(a){return a?void(this.location=l.url()):void(l.url()!==this.location&&(l.url(this.location),l.replace()))},a.prototype.push=function(a,b,c){l.url(a.format(b||{})),c&&c.replace&&l.replace()},a.prototype.href=function(a,b,c){if(!a.validates(b))return null;var d=a.format(b);c=c||{};var e=k.services.locationConfig,f=e.html5Mode();if(f||null===d||(d="#"+e.hashPrefix()+d),d=g(d,f,c.absolute),!c.absolute||!d)return d;var h=!f&&d?"/":"",i=e.port();return i=80===i||443===i?"":":"+i,[e.protocol(),"://",e.host(),i,h,d].join("")},a}();b.UrlRouter=n},function(a,b,c){function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c(50)),d(c(42))},function(a,b,c){var d=c(5),e=c(7),f=function(){function a(){}return a.prototype.fromConfig=function(a,b,c){return d.isDefined(a.template)?this.fromString(a.template,b):d.isDefined(a.templateUrl)?this.fromUrl(a.templateUrl,b):d.isDefined(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},a.prototype.fromString=function(a,b){return d.isFunction(a)?a(b):a},a.prototype.fromUrl=function(a,b){return d.isFunction(a)&&(a=a(b)),null==a?null:e.services.template.get(a)},a.prototype.fromProvider=function(a,b,c){return c(a)},a}();b.TemplateFactory=f},function(a,b,c){var d=c(47),e=c(48),f=c(17),g=c(24),h=c(48),i=c(43),j=c(50),k=c(42),l=c(52),m=c(35),n=function(){function a(){var a=this;this.stateParams=g.stateParamsFactory(),this.urlMatcherFactory=new d.UrlMatcherFactory,this.urlRouterProvider=new e.UrlRouterProvider(this.urlMatcherFactory,this.stateParams),this.urlRouter=new h.UrlRouter(this.urlRouterProvider),this.transitionService=new i.TransitionService,this.templateFactory=new j.TemplateFactory,this.viewService=new k.ViewService(this.templateFactory),this.stateRegistry=new l.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider,function(){return a.stateService.$current}),this.stateProvider=new f.StateProvider(this.stateRegistry),this.stateService=new m.StateService(this.viewService,this.stateParams,this.urlRouter,this.transitionService,this.stateRegistry,this.stateProvider),this.viewService.rootContext(this.stateRegistry.root())}return a}();b.UIRouter=n},function(a,b,c){var d=c(33),e=c(18),f=c(34),g=function(){function a(a,b,c){this.currentState=c,this.states={},this.matcher=new d.StateMatcher(this.states),this.builder=new e.StateBuilder(this.matcher,a),this.stateQueue=new f.StateQueueManager(this.states,this.builder,b);var g={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash"}},"abstract":!0},h=this._root=this.stateQueue.register(g);h.navigable=null}return a.prototype.root=function(){return this._root},a.prototype.register=function(a){return this.stateQueue.register(a)},a.prototype.get=function(a,b){var c=this;if(0===arguments.length)return Object.keys(this.states).map(function(a){return c.states[a].self});var d=this.matcher.find(a,b||this.currentState());return d&&d.self||null},a.prototype.decorator=function(a,b){return this.builder.builder(a,b)},a}();b.StateRegistry=g},function(a,b,c){function d(a){var b=m.services.$injector,c=b.get("$controller"),d=b.instantiate;try{var e;return b.instantiate=function(a){b.instantiate=d,e=b.annotate(a)},c(a,{$scope:{}}),e}finally{b.instantiate=d}}function e(a,b){m.services.$injector=a,m.services.$q=b}function f(a){function b(b,d,e,f,g,h){return f.$on("$locationChangeSuccess",function(a){return c.forEach(function(b){return b(a)})}),m.services.locationConfig.html5Mode=function(){var b=a.html5Mode();return b=p.isObject(b)?b.enabled:b,b&&e.history},m.services.template.get=function(a){return g.get(a,{cache:h,headers:{Accept:"text/html"}}).then(o.prop("data"))},n.bindFunctions(b,m.services.location,b,["replace","url","path","search","hash"]),n.bindFunctions(b,m.services.locationConfig,b,["port","protocol","host"]),n.bindFunctions(d,m.services.locationConfig,d,["baseHref"]),v}v=new l.UIRouter,n.bindFunctions(a,m.services.locationConfig,a,["hashPrefix"]);var c=[];m.services.location.onChange=function(a){return c.push(a),function(){return n.removeFrom(c)(a)}},this.$get=b,b.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"]}function g(a,b){return b.$watch(function(){v.stateParams.$digest()}),v.stateParams}function h(){return v.urlRouterProvider.$get=function(){return v.urlRouter.update(!0),this.interceptDeferred||v.urlRouter.listen(),v.urlRouter},v.urlRouterProvider}function i(){return v.stateProvider.$get=function(){return v.stateRegistry.stateQueue.autoFlush(v.stateService),v.stateService},v.stateProvider}function j(){function a(a){var b=function(b){function c(){}var e=d(b.controller),f=a.treeChanges().to,g=n.find(f,o.propEq("state",b.context)).resolveInjector;return c.$inject=e,m.services.$q.all(g.getLocals(c)).then(function(a){return b.locals=a})},c=a.views("entering").filter(function(a){return!!a.controller}).map(b);return m.services.$q.all(c).then(n.noop)}return a.$inject=["$transition$"],v.transitionService.onFinish({},a),v.transitionService.$get=function(){return v.transitionService},v.transitionService}function k(a){a.$watch(function(){t.trace.approximateDigests++})}var l=c(51),m=c(7),n=c(4),o=c(6),p=c(5),q=c(37),r=c(39),s=c(15),t=c(9),u=angular.module("ui.router.angular1",[]);angular.module("ui.router.util",["ng","ui.router.init"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),angular.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),angular.module("ui.router.compat",["ui.router"]),b.annotateController=d,e.$inject=["$injector","$q"],u.run(e);var v=null;f.$inject=["$locationProvider"];var w=function(){return{resolve:function(a,b,c){void 0===b&&(b={});var d=new q.Node(new s.State({params:{}})),e=new q.Node(new s.State({params:{}})),f=new r.ResolveContext([d,e]);f.addResolvables(r.Resolvable.makeResolvables(a),e.state);var g=function(a){var c=function(a){return r.Resolvable.makeResolvables(n.map(a,function(a){return function(){return a}}))};return f.addResolvables(c(a),d.state),f.addResolvables(c(b),e.state),f.resolvePath()};return c?c.then(g):g({})}}};angular.module("ui.router.init",[]).provider("ng1UIRouter",f),angular.module("ui.router.init").run(["ng1UIRouter",function(a){}]),angular.module("ui.router.util").provider("$urlMatcherFactory",["ng1UIRouterProvider",function(){return v.urlMatcherFactory}]),angular.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),angular.module("ui.router.router").provider("$urlRouter",["ng1UIRouterProvider",h]),angular.module("ui.router.router").run(["$urlRouter",function(a){}]),angular.module("ui.router.state").provider("$state",["ng1UIRouterProvider",i]),angular.module("ui.router.state").run(["$state",function(a){}]),angular.module("ui.router.state").factory("$stateParams",["ng1UIRouter","$rootScope",g]),angular.module("ui.router.state").provider("$transitions",["ng1UIRouterProvider",j]),angular.module("ui.router.util").factory("$templateFactory",["ng1UIRouter",function(){return v.templateFactory}]),angular.module("ui.router").factory("$view",function(){return v.viewService}),angular.module("ui.router").factory("$resolve",w),angular.module("ui.router").service("$trace",function(){return t.trace}),k.$inject=["$rootScope"],b.watchDigests=k,angular.module("ui.router").run(k)},function(a,b,c){function d(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function e(a){var b=a.parent().inheritedData("$uiView");return b&&b.context&&b.context.name?b.context:void 0}function f(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function g(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function h(a,b){return{relative:e(a)||b.$current,inherit:!0}}function i(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,e,i,j){var k=d(i.uiSref,a.current.name),m={state:k.state,href:null,params:null,options:null},n=f(e),o=j[1]||j[0],p=null;m.options=l.extend(h(e,a),i.uiSrefOpts?c.$eval(i.uiSrefOpts):{});var q=function(b){b&&(m.params=angular.copy(b)),m.href=a.href(k.state,m.params,m.options),p&&p(),o&&(p=o.$$addStateInfo(k.state,m.params)),null!==m.href&&i.$set(n.attr,m.href)};k.paramExpr&&(c.$watch(k.paramExpr,function(a){a!==m.params&&q(a)},!0),m.params=angular.copy(c.$eval(k.paramExpr))),q(),n.clickable&&e.bind("click",g(e,a,b,n,function(){return m}))}}}function j(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,h){function i(b){n.state=b[0],n.params=b[1],n.options=b[2],n.href=a.href(n.state,n.params,n.options),o&&o(),k&&(o=k.$$addStateInfo(n.state,n.params)),n.href&&e.$set(j.attr,n.href)}var j=f(d),k=h[1]||h[0],l=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],m="["+l.map(function(a){return a||"null"}).join(", ")+"]",n={state:null,params:null,options:null,href:null},o=null;c.$watch(m,i,!0),i(c.$eval(m)),j.clickable&&d.bind("click",g(d,a,b,j,function(){return n}))}}}function k(a,b,c,f){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,g,h,i){function j(b,c,d){var f=a.get(b,e(g)),h=k(b,c),i={state:f||{name:b},params:c,hash:h};return u.push(i),v[h]=d,function(){var a=u.indexOf(i);-1!==a&&u.splice(a,1)}}function k(a,c){if(!m.isString(a))throw new Error("state should be a string");return m.isObject(c)?a+l.toJson(c):(c=b.$eval(c),m.isObject(c)?a+l.toJson(c):a)}function n(){for(var a=0;a<u.length;a++)q(u[a].state,u[a].params)?o(g,v[u[a].hash]):p(g,v[u[a].hash]),r(u[a].state,u[a].params)?o(g,s):p(g,s)}function o(a,b){i(function(){a.addClass(b)})}function p(a,b){a.removeClass(b)}function q(b,c){return a.includes(b.name,c)}function r(b,c){return a.is(b.name,c)}var s,t,u=[],v={};s=c(h.uiSrefActiveEq||"",!1)(b);try{t=b.$eval(h.uiSrefActive)}catch(w){}t=t||c(h.uiSrefActive||"",!1)(b),m.isObject(t)&&l.forEach(t,function(c,e){if(m.isString(c)){var f=d(c,a.current.name);j(f.state,b.$eval(f.paramExpr),e)}}),this.$$addStateInfo=function(a,b){if(!(m.isObject(t)&&u.length>0)){var c=j(a,b,t);return n(),c}},b.$on("$stateChangeSuccess",n);var x=["$transition$",function(a){a.promise.then(n)}],y=f.onStart({},x);b.$on("$destroy",y),n()}]}}var l=c(4),m=c(5);i.$inject=["$state","$timeout"],j.$inject=["$state","$timeout"],k.$inject=["$state","$stateParams","$interpolate","$transitions"],angular.module("ui.router.state").directive("uiSref",i).directive("uiSrefActive",k).directive("uiSrefActiveEq",k).directive("uiState",j)},function(a,b){function c(a){var b=function(b,c,d){return a.is(b,c,d)};return b.$stateful=!0,b}function d(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}c.$inject=["$state"],b.$IsStateFilter=c,d.$inject=["$state"],b.$IncludedByStateFilter=d,angular.module("ui.router.state").filter("isState",c).filter("includedByState",d)},function(a,b,c){function d(a,b,c,d,e){function i(a,c){return{enter:function(a,c,d){angular.version.minor>2?b.enter(a,null,c).then(d):b.enter(a,null,c,d)},leave:function(a,c){angular.version.minor>2?b.leave(a).then(c):b.leave(a,c)}}}function j(a,b){return a===b}var k={context:a.rootContext()},l={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(b,m,n){return function(b,m,o){function p(a){j(z,a)||(h.trace.traceUiViewConfigUpdated(C,a&&a.context),z=a,r(a))}function q(){if(s&&(h.trace.traceUiViewEvent("Removing (previous) el",s.data("$uiView")),s.remove(),s=null),u&&(h.trace.traceUiViewEvent("Destroying scope",C),u.$destroy(),u=null),t){var a=t.data("$uiView");h.trace.traceUiViewEvent("Animate out",a),y.leave(t,function(){a.$$animLeave.resolve(),s=null}),s=t,t=null}}function r(a){a=a||{};var d=b.$new();h.trace.traceUiViewScopeCreated(C,d);var i=e.defer(),j=e.defer(),k=f.extend({},C,{context:a.context,$template:a.template,$controller:a.controller,$controllerAs:a.controllerAs,$locals:a.locals,$animEnter:i.promise,$animLeave:j.promise,$$animLeave:j}),l=n(d,function(a){y.enter(a.data("$uiView",k),m,function(){i.resolve(),u&&u.$emit("$viewContentAnimationEnded"),(g.isDefined(x)&&!x||b.$eval(x))&&c(a)}),q()});t=l,u=d,u.$emit("$viewContentLoaded",a||z),u.$eval(w)}var s,t,u,v,w=o.onload||"",x=o.autoscroll,y=i(o,b),z=void 0,A=m.inheritedData("$uiView")||k,B=d(o.uiView||o.name||"")(b)||"$default",C={id:l.count++,name:B,fqn:A.name?A.fqn+"."+B:B,config:null,configUpdated:p,get creationContext(){return A.context}};h.trace.traceUiViewEvent("Linking",C),m.data("$uiView",C),r(),v=a.registerUiView(C),b.$on("$destroy",function(){h.trace.traceUiViewEvent("Destroying/Unregistering",C),v()})}}};return l}function e(a,b,c,d,e){return{restrict:"ECA",priority:-400,compile:function(c){var d=c.html();return function(c,e){var g=e.data("$uiView");if(g){e.html(g.$template||d),h.trace.traceUiViewFill(g,e.html());var i=a(e.contents()),j=g.$controller,k=g.$controllerAs;if(j){var l=g.$locals,m=b(j,f.extend(l,{$scope:c,$element:e}));k&&(c[k]=m),e.data("$ngControllerController",m),e.children().data("$ngControllerController",m)}i(c)}}}}}var f=c(4),g=c(5),h=c(9);d.$inject=["$view","$animate","$uiViewScroll","$interpolate","$q"],e.$inject=["$compile","$controller","$interpolate","$injector","$q"],angular.module("ui.router.state").directive("uiView",d),angular.module("ui.router.state").directive("uiView",e)},function(a,b){function c(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}angular.module("ui.router.state").provider("$uiViewScroll",c)}])});